<!DOCTYPE html>
<html>

<head>
    <title>SVG Device with Alert Buttons</title>
    <style>
        #device-svg {
            width: 300px;
            /* Adjust as needed */
            height: auto;
        }

        #deviceScreen {
            cursor: pointer ;
            /* Make the screen area look like an input */
        }
    </style>
</head>

<body>

    <div id="device-container">

    <!-- device-svg wrapper for svg image of device -->
    <svg id="device-svg" 
            width="71.429565mm" height="110.0217mm" viewBox="0 0 71.429565 110.0217" version="1.1" id="svg1"
            inkscape:export-filename="bitmap.png" inkscape:export-xdpi="96" inkscape:export-ydpi="96"
            sodipodi:docname="esmo-dev2.svg" inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
            <sodipodi:namedview id="namedview1" pagecolor="#ffffff" bordercolor="#000000" borderopacity="0.25"
                inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0"
                inkscape:deskcolor="#d1d1d1" inkscape:document-units="mm" inkscape:zoom="2.6645502" inkscape:cx="134.91958"
                inkscape:cy="207.91502" inkscape:window-width="2560" inkscape:window-height="1316" inkscape:window-x="0"
                inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="layer1">
                <inkscape:page x="0" y="0" width="71.429565" height="110.0217" id="page2" margin="0" bleed="0" />
            </sodipodi:namedview>
            <defs id="defs1">
                <linearGradient id="linearGradient27" inkscape:collect="always">
                    <stop style="stop-color:#59595a;stop-opacity:1;" offset="0" id="stop27" />
                    <stop style="stop-color:#212323;stop-opacity:0.94656283;" offset="1" id="stop28" />
                </linearGradient>
                <linearGradient id="linearGradient17" inkscape:collect="always">
                    <stop style="stop-color:#141414;stop-opacity:0;" offset="0" id="stop18" />
                    <stop style="stop-color:#010104;stop-opacity:1;" offset="1" id="stop17" />
                </linearGradient>
                <linearGradient id="linearGradient6" inkscape:collect="always">
                    <stop style="stop-color:#535351;stop-opacity:1;" offset="0" id="stop6" />
                    <stop style="stop-color:#171818;stop-opacity:1;" offset="1" id="stop7" />
                </linearGradient>
                <linearGradient inkscape:collect="always" xlink:href="#linearGradient6" id="linearGradient7-3-9" x1="85.052299"
                    y1="76.041924" x2="146.0459" y2="92.385117" gradientUnits="userSpaceOnUse"
                    gradientTransform="matrix(1,0,0,-1,69.213219,194.79228)" />
                <inkscape:path-effect effect="fillet_chamfer" id="path-effect9-2" is_visible="true" lpeversion="1"
                    nodesatellites_param="F,0,0,1,0,0.79374998,0,1 @ F,0,0,1,0,0.79374998,0,1 @ F,0,0,1,0,0.79374998,0,1 @ F,0,0,1,0,0.79374998,0,1"
                    radius="3" unit="px" method="auto" mode="F" chamfer_steps="1" flexible="false" use_knot_distance="true"
                    apply_no_radius="true" apply_with_radius="true" only_selected="false" hide_knots="false" />
                <linearGradient inkscape:collect="always" xlink:href="#linearGradient6" id="linearGradient16" x1="70.421478"
                    y1="139.25224" x2="139.57848" y2="139.25224" gradientUnits="userSpaceOnUse"
                    gradientTransform="translate(69.325208,84.241409)" />
                <linearGradient inkscape:collect="always" xlink:href="#linearGradient6" id="linearGradient7-3-9-3"
                    x1="85.052299" y1="76.041924" x2="146.0459" y2="92.385117" gradientUnits="userSpaceOnUse"
                    gradientTransform="translate(69.213219,84.770576)" />
                <inkscape:path-effect effect="fillet_chamfer" id="path-effect9-2-4" is_visible="true" lpeversion="1"
                    nodesatellites_param="F,0,0,1,0,0.79374998,0,1 @ F,0,0,1,0,0.79374998,0,1 @ F,0,0,1,0,0.79374998,0,1 @ F,0,0,1,0,0.79374998,0,1"
                    radius="3" unit="px" method="auto" mode="F" chamfer_steps="1" flexible="false" use_knot_distance="true"
                    apply_no_radius="true" apply_with_radius="true" only_selected="false" hide_knots="false" />
                <linearGradient inkscape:collect="always" xlink:href="#linearGradient17" id="linearGradient18" x1="179.63632"
                    y1="-104.23968" x2="185.31143" y2="-105.76032" gradientUnits="userSpaceOnUse"
                    gradientTransform="translate(84.241409,-69.325208)" />
                <linearGradient inkscape:collect="always" xlink:href="#linearGradient27" id="linearGradient28" x1="179.40392"
                    y1="-105" x2="185.54384" y2="-105" gradientUnits="userSpaceOnUse"
                    gradientTransform="translate(84.241409,-69.325208)" />
            </defs>
            <g inkscape:groupmode="layer" id="layer4" inkscape:label="DeviceBase" transform="translate(-69.325208,-84.241409)">
                <rect
                    style="fill:#04851a;fill-opacity:1;stroke:none;stroke-width:3.38148;stroke-linecap:square;paint-order:markers stroke fill"
                    id="rect16-40" width="3.1270001" height="14.689378" x="137.62778" y="152.99026" rx="2" ry="2"
                    inkscape:label="button4" />
                <rect
                    style="fill:#e2c271;fill-opacity:1;stroke:none;stroke-width:3.38148;stroke-linecap:square;paint-order:markers stroke fill"
                    id="rect16" width="3.1270001" height="14.689378" x="137.62778" y="104.62531" rx="2" ry="2"
                    inkscape:label="button3" />
                <rect
                    style="fill:#370f72;fill-opacity:1;stroke:none;stroke-width:3.38148;stroke-linecap:square;paint-order:markers stroke fill"
                    id="rect16-4-5" width="3.1270001" height="14.689378" x="69.325211" y="152.99026" rx="2" ry="2"
                    inkscape:label="button2" />
                <rect
                    style="fill:#c44238;fill-opacity:1;stroke:none;stroke-width:3.38138;stroke-linecap:square;stroke-dasharray:none;paint-order:markers stroke fill"
                    id="rect16-4" width="3.1270001" height="14.689378" x="69.325211" y="104.62531" rx="2" ry="2"
                    inkscape:label="button1" />
                <path id="rect2-7-8"
                    style="fill:url(#linearGradient7-3-9);fill-opacity:1;stroke:none;stroke-width:1.61114;stroke-linecap:square;paint-order:markers stroke fill"
                    d="m 81.617506,194.79227 45.635674,-0.0852 a 2.2189523,2.2189523 160.21015 0 0 1.40647,-0.50607 l 6.05774,-4.98878 a 0.28477175,0.28477175 70.26366 0 0 -0.18103,-0.50459 H 75.274093 a 0.31920069,0.31920069 111.90716 0 0 -0.22099,0.54953 l 5.197894,4.9871 a 1.9684897,1.9684897 21.853655 0 0 1.366509,0.54805 z"
                    sodipodi:nodetypes="ccccc" inkscape:path-effect="#path-effect9-2"
                    inkscape:original-d="m 80.823757,194.79375 47.223173,-0.0882 7.28318,-5.99796 H 74.480343 Z"
                    transform="matrix(1,0,0,-1,0.11198797,279.03368)" inkscape:label="upperBase" />
                <path id="rect2-7-8-5"
                    style="fill:url(#linearGradient7-3-9-3);fill-opacity:1;stroke:none;stroke-width:1.61114;stroke-linecap:square;paint-order:markers stroke fill"
                    d="m 81.617506,194.79227 45.635674,-0.0852 a 2.2189523,2.2189523 160.21015 0 0 1.40647,-0.50607 l 6.05774,-4.98878 a 0.28477175,0.28477175 70.26366 0 0 -0.18103,-0.50459 H 75.274093 a 0.31920069,0.31920069 111.90716 0 0 -0.22099,0.54953 l 5.197894,4.9871 a 1.9684897,1.9684897 21.853655 0 0 1.366509,0.54805 z"
                    sodipodi:nodetypes="ccccc" inkscape:path-effect="#path-effect9-2-4"
                    inkscape:original-d="m 80.823757,194.79375 47.223173,-0.0882 7.28318,-5.99796 H 74.480343 Z"
                    transform="translate(0.11198797,-0.52916667)" inkscape:label="lowerBase" />
                <rect
                    style="fill:url(#linearGradient16);stroke:none;stroke-width:3;stroke-linecap:square;paint-order:markers stroke fill"
                    id="rect1" width="69.156998" height="98.910652" x="70.421501" y="89.796928" rx="5" ry="5"
                    inkscape:label="deviceBase" />
                <rect
                    style="fill:#c8c8c8;fill-opacity:1;stroke-width:2.94442;stroke-linecap:square;paint-order:markers stroke fill"
                    id="rect7" width="60.652912" height="82.070976" x="74.673546" y="95.244034" rx="5" ry="5"
                    inkscape:label="deviceScreen" />
                <rect
                    style="fill:url(#linearGradient18);fill-opacity:1;stroke:url(#linearGradient28);stroke-width:0.132292;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:markers stroke fill"
                    id="rect16-40-2" width="5.8753352" height="14.689378" x="179.53621" y="-112.34469" rx="2" ry="2"
                    inkscape:label="frontButton/Sensor" transform="rotate(90)" />
            </g>
            <g inkscape:label="DisplayText" inkscape:groupmode="layer" id="layer1" transform="translate(-69.325208,-84.241409)">
                <text xml:space="preserve"
                    style="font-size:14.1111px;line-height:0px;font-family:'Roboto Mono';text-align:center;text-decoration-color:#000000;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;direction:ltr;text-anchor:middle;white-space:pre;fill:#363636;fill-opacity:1;stroke:#000000;stroke-width:3.38138;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;paint-order:markers stroke fill"
                    x="104.89159" y="107.54639" id="text28" transform="rotate(-0.01553553)" inkscape:label="ESMO">
                    <tspan sodipodi:role="line" id="tspan28"
                        style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:14.1111px;font-family:Tuffy;-inkscape-font-specification:'Tuffy Bold';letter-spacing:0px;fill:#363636;fill-opacity:1;stroke:none;stroke-width:3.38138;stroke-dasharray:none"
                        x="104.89159" y="107.54639">ESMO</tspan>
                </text>
            </g>
            <!-- input for image below -->
            <foreignObject x="76" y="98" width="55" height="30">
            
                <body xmlns="http://www.w3.org/1999/xhtml">
                    <input type="text" id="usernameInput" placeholder="Username"
                        style="width: 100%; height: 100%; font-family: 'Courier New', monospace; font-size: 12px;" />
                </body>
            </foreignObject>
            
            <foreignObject x="76" y="130" width="55" height="30">
            
                <body xmlns="http://www.w3.org/1999/xhtml">
                    <textarea id="messageInput" placeholder="Message"
                        style="width: 100%; height: 100%; font-family: 'Courier New', monospace; font-size: 12px;"></textarea>
                </body>
            </foreignObject>
        </svg>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const svgDoc = document.getElementById('device-svg');

            if (svgDoc) {
                svgDoc.addEventListener('click', function (event) {
                    const target = event.target;
                    const label = target.getAttribute('inkscape:label');

                    if (label === 'button1') {
                        sendApiRequest('Alert from button 1', 'User 1');
                    } else if (label === 'button2') {
                        sendApiRequest('Alert from button 2', 'User 2');
                    } else if (label === 'button3') {
                        sendApiRequest('Alert from button 3', 'User 3');
                    } else if (label === 'button4') {
                        sendApiRequest('Alert from button 4', 'User 4');
                    } else if (label === 'deviceScreen') {
                        const username = document.getElementById('usernameInput').value;
                        const message = document.getElementById('messageInput').value;
                        if (username && message) {
                            sendApiRequest(message, username);
                        } else {
                            alert("Please enter a username and message.");
                        }
                    }
                });
            }
        });

        function sendApiRequest(msg, username) {
            if (!msg || !username) {
                alert("Message and username are required.");
                return;
            }

            const timestamp = new Date().toISOString();

            const data = {
                trigger: true,
                msg: msg,
                username: username,
                timestamp: timestamp
            };

            fetch('https://67dc7a98e00db03c40683241.mockapi.io/alarms/1', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
                .then(response => response.json())
                .then(responseData => {
                    console.log('API Response:', responseData);
                    alert('API request sent successfully!');
                })
                .catch(error => {
                    console.error('API Error:', error);
                    alert('API request failed. Check console.');
                });
        }
    </script>
</body>

</html>